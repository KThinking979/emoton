"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[766],{46206:(e,t,s)=>{s.d(t,{e:()=>w});var r=s(80221),[n,i]=(0,r.q)({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"}),o=s(26306),a=s(44414);function c(e){var t;const s=e.split(" "),r=null!=(t=s[0])?t:"",n=s.length>1?s[s.length-1]:"";return r&&n?"".concat(r.charAt(0)).concat(n.charAt(0)):r.charAt(0)}function p(e){const{name:t,getInitials:s,...r}=e,n=i();return(0,a.jsx)(o.B.div,{role:"img","aria-label":t,...r,__css:n.label,children:t?null==s?void 0:s(t):null})}p.displayName="AvatarName";var l=e=>(0,a.jsxs)(o.B.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...e,children:[(0,a.jsx)("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]}),h=s(35812),u=s(9950);function d(e){const{src:t,srcSet:s,onError:r,onLoad:n,getInitials:i,name:c,borderRadius:d,loading:_,iconLabel:g,icon:b=(0,a.jsx)(l,{}),ignoreFallback:m,referrerPolicy:f,crossOrigin:w}=e,v=(0,h.l)({src:t,onError:r,crossOrigin:w,ignoreFallback:m});return!t||!("loaded"===v)?c?(0,a.jsx)(p,{className:"chakra-avatar__initials",getInitials:i,name:c}):(0,u.cloneElement)(b,{role:"img","aria-label":g}):(0,a.jsx)(o.B.img,{src:t,srcSet:s,alt:c,onLoad:n,referrerPolicy:f,crossOrigin:null!=w?w:void 0,className:"chakra-avatar__img",loading:_,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:d}})}d.displayName="AvatarImage";var _=s(58039),g=s(66296),b=s(82867),m=s(97681),f={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},w=(0,_.R)(((e,t)=>{const s=(0,g.o5)("Avatar",e),[r,i]=(0,u.useState)(!1),{src:p,srcSet:h,name:_,showBorder:w,borderRadius:v="full",onError:y,onLoad:E,getInitials:x=c,icon:C=(0,a.jsx)(l,{}),iconLabel:k=" avatar",loading:S,children:P,borderColor:A,ignoreFallback:q,crossOrigin:N,referrerPolicy:I,...T}=(0,b.MN)(e),R={borderRadius:v,borderWidth:w?"2px":void 0,...f,...s.container};return A&&(R.borderColor=A),(0,a.jsx)(o.B.span,{ref:t,...T,className:(0,m.cx)("chakra-avatar",e.className),"data-loaded":(0,m.sE)(r),__css:R,children:(0,a.jsxs)(n,{value:s,children:[(0,a.jsx)(d,{src:p,srcSet:h,loading:S,onLoad:(0,m.Hj)(E,(()=>{i(!0)})),onError:y,getInitials:x,name:_,borderRadius:v,icon:C,iconLabel:k,ignoreFallback:q,crossOrigin:N,referrerPolicy:I}),P]})})}));w.displayName="Avatar"},81374:(e,t,s)=>{s.d(t,{$:()=>m});var r=s(9950);var n=s(80221),[i,o]=(0,n.q)({strict:!1,name:"ButtonGroupContext"}),a=s(26306),c=s(97681),p=s(44414);function l(e){const{children:t,className:s,...n}=e,i=(0,r.isValidElement)(t)?(0,r.cloneElement)(t,{"aria-hidden":!0,focusable:!1}):t,o=(0,c.cx)("chakra-button__icon",s);return(0,p.jsx)(a.B.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...n,className:o,children:i})}l.displayName="ButtonIcon";var h=s(40063);function u(e){const{label:t,placement:s,spacing:n="0.5rem",children:i=(0,p.jsx)(h.y,{color:"currentColor",width:"1em",height:"1em"}),className:o,__css:l,...u}=e,d=(0,c.cx)("chakra-button__spinner",o),_="start"===s?"marginEnd":"marginStart",g=(0,r.useMemo)((()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[_]:t?n:0,fontSize:"1em",lineHeight:"normal",...l})),[l,t,_,n]);return(0,p.jsx)(a.B.div,{className:d,...u,__css:g,children:i})}u.displayName="ButtonSpinner";var d=s(87237),_=s(58039),g=s(66296),b=s(82867),m=(0,_.R)(((e,t)=>{const s=o(),n=(0,g.Vl)("Button",{...s,...e}),{isDisabled:i=(null==s?void 0:s.isDisabled),isLoading:l,isActive:h,children:_,leftIcon:m,rightIcon:w,loadingText:v,iconSpacing:y="0.5rem",type:E,spinner:x,spinnerPlacement:C="start",className:k,as:S,...P}=(0,b.MN)(e),A=(0,r.useMemo)((()=>{const e={...null==n?void 0:n._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...n,...!!s&&{_focus:e}}}),[n,s]),{ref:q,type:N}=function(e){const[t,s]=(0,r.useState)(!e);return{ref:(0,r.useCallback)((e=>{e&&s("BUTTON"===e.tagName)}),[]),type:t?"button":void 0}}(S),I={rightIcon:w,leftIcon:m,iconSpacing:y,children:_};return(0,p.jsxs)(a.B.button,{ref:(0,d.SV)(t,q),as:S,type:null!=E?E:N,"data-active":(0,c.sE)(h),"data-loading":(0,c.sE)(l),__css:A,className:(0,c.cx)("chakra-button",k),...P,disabled:i||l,children:[l&&"start"===C&&(0,p.jsx)(u,{className:"chakra-button__spinner--start",label:v,placement:"start",spacing:y,children:x}),l?v||(0,p.jsx)(a.B.span,{opacity:0,children:(0,p.jsx)(f,{...I})}):(0,p.jsx)(f,{...I}),l&&"end"===C&&(0,p.jsx)(u,{className:"chakra-button__spinner--end",label:v,placement:"end",spacing:y,children:x})]})}));function f(e){const{leftIcon:t,rightIcon:s,children:r,iconSpacing:n}=e;return(0,p.jsxs)(p.Fragment,{children:[t&&(0,p.jsx)(l,{marginEnd:n,children:t}),r,s&&(0,p.jsx)(l,{marginStart:n,children:s})]})}m.displayName="Button"},27009:(e,t,s)=>{s.d(t,{Q:()=>c});var r=s(97681),n=s(58039),i=s(26306),o=s(9950),a=s(44414);(0,n.R)((function(e,t){const{spacing:s="0.5rem",spacingX:n,spacingY:p,children:l,justify:h,direction:u,align:d,className:_,shouldWrapChildren:g,...b}=e,m=(0,o.useMemo)((()=>g?o.Children.map(l,((e,t)=>(0,a.jsx)(c,{children:e},t))):l),[l,g]);return(0,a.jsx)(i.B.div,{ref:t,className:(0,r.cx)("chakra-wrap",_),...b,children:(0,a.jsx)(i.B.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:h,alignItems:d,flexDirection:u,listStyleType:"none",gap:s,columnGap:n,rowGap:p,padding:"0"},children:m})})})).displayName="Wrap";var c=(0,n.R)((function(e,t){const{className:s,...n}=e;return(0,a.jsx)(i.B.li,{ref:t,__css:{display:"flex",alignItems:"flex-start"},className:(0,r.cx)("chakra-wrap__listitem",s),...n})}));c.displayName="WrapItem"},28397:(e,t,s)=>{s.d(t,{N:()=>p});var r=s(58039),n=s(66296),i=s(82867),o=s(26306),a=s(97681),c=s(44414),p=(0,r.R)((function(e,t){const s=(0,n.Vl)("Link",e),{className:r,isExternal:p,...l}=(0,i.MN)(e);return(0,c.jsx)(o.B.a,{target:p?"_blank":void 0,rel:p?"noopener":void 0,ref:t,className:(0,a.cx)("chakra-link",r),...l,__css:s})}));p.displayName="Link"},52720:(e,t,s)=>{s.d(t,{c:()=>p});var r=s(58039),n=s(66296),i=s(82867),o=s(26306),a=s(97681),c=s(44414),p=(0,r.R)((function(e,t){const{borderLeftWidth:s,borderBottomWidth:r,borderTopWidth:p,borderRightWidth:l,borderWidth:h,borderStyle:u,borderColor:d,..._}=(0,n.Vl)("Divider",e),{className:g,orientation:b="horizontal",__css:m,...f}=(0,i.MN)(e),w={vertical:{borderLeftWidth:s||l||h||"1px",height:"100%"},horizontal:{borderBottomWidth:r||p||h||"1px",width:"100%"}};return(0,c.jsx)(o.B.hr,{ref:t,"aria-orientation":b,...f,__css:{..._,border:"0",borderColor:d,borderStyle:u,...w[b],...m},className:(0,a.cx)("chakra-divider",g)})}));p.displayName="Divider"},672:(e,t,s)=>{s.d(t,{E:()=>p});var r=s(58039),n=s(26306),i=s(97924),o=s(69587),a=s(44414);function c(e){return(0,o.bk)(e,(e=>"auto"===e?"auto":"span ".concat(e,"/span ").concat(e)))}var p=(0,r.R)((function(e,t){const{area:s,colSpan:r,colStart:o,colEnd:p,rowEnd:l,rowSpan:h,rowStart:u,...d}=e,_=(0,i.o)({gridArea:s,gridColumn:c(r),gridRow:c(h),gridColumnStart:o,gridColumnEnd:p,gridRowStart:u,gridRowEnd:l});return(0,a.jsx)(n.B.div,{ref:t,__css:_,...d})}));p.displayName="GridItem"},7854:(e,t,s)=>{s.d(t,{qw:()=>st});var r=Object.defineProperty,n=(e,t,s)=>(((e,t,s)=>{t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);function i(e,t){let s;const r=()=>{void 0!==s&&t&&t(s),s=void 0};return[()=>void 0===s?s=e(r):s,r]}const o=new class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.scope=e,this.options=t}print(e){const t=new Date,s=Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(t),{textColor:r,bgColor:n}=this.options,i="font-weight: bold;padding: 0 5px;border-radius:5px";for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];console[e]("%c".concat(s,"%c / %c").concat(this.scope),"".concat(i,";background-color: lightblue;color:black"),"","".concat(i,";").concat(r?"color:".concat(r,";"):"").concat(n?"background-color:".concat(n):""),...a)}error(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this.print("error",...t)}log(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this.print("log",...t)}}("SDK",{bgColor:"forestgreen",textColor:"white"});let a=!1;class c{constructor(){n(this,"listeners",new Map),n(this,"listenersCount",0),n(this,"subscribeListeners",[])}clear(){this.listeners.clear(),this.subscribeListeners=[]}get count(){return this.listenersCount+this.subscribeListeners.length}emit(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];this.subscribeListeners.forEach((t=>t({event:e,args:s}))),(this.listeners.get(e)||[]).forEach((t=>{let[r,n]=t;r(...s),n&&this.off(e,r)}))}on(e,t,s){let r=this.listeners.get(e);return r||this.listeners.set(e,r=[]),r.push([t,s]),this.listenersCount+=1,()=>this.off(e,t)}off(e,t){const s=this.listeners.get(e)||[];for(let r=0;r<s.length;r+=1)if(t===s[r][0])return s.splice(r,1),void(this.listenersCount-=1)}subscribe(e){return this.subscribeListeners.push(e),()=>this.unsubscribe(e)}unsubscribe(e){for(let t=0;t<this.subscribeListeners.length;t+=1)if(this.subscribeListeners[t]===e)return void this.subscribeListeners.splice(t,1)}}function p(e,t,s){return window.addEventListener(e,t,s),()=>window.removeEventListener(e,t,s)}function l(){let e=!1;for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];const n=s.flat(1);return[t=>!e&&n.push(t),()=>{e||(e=!0,n.forEach((e=>e())))},e]}class h extends Error{constructor(e,t,s){super(t,{cause:s}),this.type=e,Object.setPrototypeOf(this,h.prototype)}}function u(e,t,s){return new h(e,t,s)}const d="ERR_METHOD_UNSUPPORTED",_="ERR_METHOD_PARAMETER_UNSUPPORTED",g="ERR_UNKNOWN_ENV",b="ERR_TIMED_OUT",m="ERR_UNEXPECTED_TYPE",f="ERR_PARSE";function w(){return u(m,"Value has unexpected type")}class v{constructor(e,t,s){this.parser=e,this.isOptional=t,this.type=s}parse(e){if(!this.isOptional||void 0!==e)try{return this.parser(e)}catch(t){throw u(f,"Unable to parse value".concat(this.type?" as ".concat(this.type):""),t)}}optional(){return this.isOptional=!0,this}}function y(e,t){return()=>new v(e,!1,t)}const E=y((e=>{if("boolean"==typeof e)return e;const t=String(e);if("1"===t||"true"===t)return!0;if("0"===t||"false"===t)return!1;throw w()}),"boolean");function x(e,t){const s={};for(const n in e){const i=e[n];if(!i)continue;let o,a;if("function"==typeof i||"parse"in i)o=n,a="function"==typeof i?i:i.parse.bind(i);else{const{type:e}=i;o=i.from||n,a="function"==typeof e?e:e.parse.bind(e)}try{const e=a(t(o));void 0!==e&&(s[n]=e)}catch(r){throw u(f,'Unable to parse field "'.concat(n,'"'),r)}}return s}function C(e){let t=e;if("string"==typeof t&&(t=JSON.parse(t)),"object"!=typeof t||null===t||Array.isArray(t))throw w();return t}function k(e,t){return new v((t=>{const s=C(t);return x(e,(e=>s[e]))}),!1,t)}const S=y((e=>{if("number"==typeof e)return e;if("string"==typeof e){const t=Number(e);if(!Number.isNaN(t))return t}throw w()}),"number"),P=y((e=>{if("string"==typeof e||"number"==typeof e)return e.toString();throw w()}),"string");function A(e){return k({eventType:P(),eventData:e=>e}).parse(e)}function q(){["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach((e=>{delete window[e]}))}function N(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}const I={clipboard_text_received:k({req_id:P(),data:e=>null===e?e:P().optional().parse(e)}),custom_method_invoked:k({req_id:P(),result:e=>e,error:P().optional()}),popup_closed:{parse:e=>k({button_id:e=>null==e?void 0:P().parse(e)}).parse(null!==e&&void 0!==e?e:{})},viewport_changed:k({height:S(),width:e=>null==e?window.innerWidth:S().parse(e),is_state_stable:E(),is_expanded:E()})};function T(){const e=new c,t=new c;t.subscribe((t=>{e.emit("event",{name:t.event,payload:t.args[0]})})),[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach((e=>{let t=window;e.forEach(((e,s,r)=>{s!==r.length-1?(e in t||(t[e]={}),t=t[e]):t[e]=N}))}));const[,s]=l(q,p("resize",(()=>{t.emit("viewport_changed",{width:window.innerWidth,height:window.innerHeight,is_state_stable:!0,is_expanded:!0})})),p("message",(e=>{if(e.source!==window.parent)return;let s;try{s=A(e.data)}catch{return}const{eventType:r,eventData:n}=s,i=I[r];try{const e=i?i.parse(n):n;t.emit(...e?[r,e]:[r])}catch(a){o.error('An error occurred processing the "'.concat(r,'" event from the Telegram application.\nPlease, file an issue here:\nhttps://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose'),s,a)}})),(()=>e.clear()),(()=>t.clear()));return[{on:t.on.bind(t),off:t.off.bind(t),subscribe:t=>e.on("event",t),unsubscribe(t){e.off("event",t)},get count(){return t.count+e.count}},s]}const[R,V]=i((e=>{const[t,s]=T(),r=t.off.bind(t);return t.off=(s,n)=>{const{count:i}=t;r(s,n),i&&!t.count&&e()},[t,s]}),(e=>{let[,t]=e;return t()}));function O(){return R()[0]}function B(e,t){O().off(e,t)}function D(e,t,s){return O().on(e,t,s)}function L(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function j(e,t){return function(e,t){const s=e.split("."),r=t.split("."),n=Math.max(s.length,r.length);for(let i=0;i<n;i+=1){const e=parseInt(s[i]||"0",10),t=parseInt(r[i]||"0",10);if(e!==t)return e>t?1:-1}return 0}(e,t)<=0}function W(e,t,s){if("string"==typeof s){if("web_app_open_link"===e){if("try_instant_view"===t)return j("6.4",s);if("try_browser"===t)return j("7.6",s)}if("web_app_set_header_color"===e&&"color"===t)return j("6.9",s);if("web_app_close"===e&&"return_back"===t)return j("7.6",s)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return j("6.1",t);case"web_app_open_popup":return j("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return j("6.4",t);case"web_app_switch_inline_query":return j("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return j("6.9",t);case"web_app_setup_settings_button":return j("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return j("7.2",t);case"web_app_setup_swipe_behavior":return j("7.7",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}function M(e){return"external"in e&&L(e.external)&&"notify"in e.external&&"function"==typeof e.external.notify}function H(e){return"TelegramWebviewProxy"in e&&L(e.TelegramWebviewProxy)&&"postEvent"in e.TelegramWebviewProxy&&"function"==typeof e.TelegramWebviewProxy.postEvent}function U(){try{return window.self!==window.top}catch{return!0}}let G="https://web.telegram.org";function z(e,t,s){let r,n={};if(t||s?t&&s?(n=s,r=t):t&&("targetOrigin"in t?n=t:r=t):n={},function(){a&&o.log(...arguments)}("Posting event:",r?{event:e,data:r}:{event:e}),U())return window.parent.postMessage(JSON.stringify({eventType:e,eventData:r}),n.targetOrigin||G);if(M(window))window.external.notify(JSON.stringify({eventType:e,eventData:r}));else{if(!H(window))throw u(g,"Unable to determine current environment and possible way to send event. You are probably trying to use Mini Apps method outside the Telegram application environment.");window.TelegramWebviewProxy.postEvent(e,JSON.stringify(r))}}function Z(e){return(t,s)=>{if(!W(t,e))throw u(d,'Method "'.concat(t,'" is unsupported in Mini Apps version ').concat(e));if(L(s)&&"web_app_set_header_color"===t&&"color"in s&&!W(t,"color",e))throw u(_,'Parameter "color" of "'.concat(t,'" method is unsupported in Mini Apps version ').concat(e));return z(t,s)}}function J(e){return t=>{let{req_id:s}=t;return s===e}}function F(e){return u(b,"Timeout reached: ".concat(e,"ms"))}function $(e,t){return Promise.race(["function"==typeof e?e():e,new Promise(((e,s)=>{setTimeout((()=>{s(F(t))}),t)}))])}async function K(e){let t;const s=new Promise((e=>t=e)),{event:r,capture:n,timeout:i}=e,[,o]=l((Array.isArray(r)?r:[r]).map((e=>D(e,(s=>{(!n||(Array.isArray(r)?n({event:e,payload:s}):n(s)))&&t(s)})))));try{return(e.postEvent||z)(e.method,e.params),await(i?$(s,i):s)}finally{o()}}async function Q(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{result:n,error:i}=await K({...r,method:"web_app_invoke_custom_method",event:"custom_method_invoked",params:{method:e,params:t,req_id:s},capture:J(s)});if(i)throw u("ERR_INVOKE_CUSTOM_METHOD_RESPONSE",i);return n}function Y(e){return/^#[\da-f]{6}$/i.test(e)}function X(e){const t=e.replace(/\s/g,"").toLowerCase();if(Y(t))return t;if(function(e){return/^#[\da-f]{3}$/i.test(e)}(t)){let e="#";for(let s=0;s<3;s+=1)e+=t[1+s].repeat(2);return e}const s=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!s)throw new Error('Value "'.concat(e,'" does not satisfy any of known RGB formats.'));return s.slice(1).reduce(((e,t)=>{const s=parseInt(t,10).toString(16);return e+(1===s.length?"0":"")+s}),"#")}function ee(e){const t=X(e);return Math.sqrt([.299,.587,.114].reduce(((e,s,r)=>{const n=parseInt(t.slice(1+2*r,1+2*(r+1)),16);return e+n*n*s}),0))<120}class te{constructor(e){n(this,"ee",new c),n(this,"on",this.ee.on.bind(this.ee)),n(this,"off",this.ee.off.bind(this.ee)),this.state=e}clone(){return{...this.state}}set(e,t){Object.entries("string"==typeof e?{[e]:t}:e).reduce(((e,t)=>{let[s,r]=t;return this.state[s]===r||void 0===r?e:(this.state[s]=r,this.ee.emit("change:".concat(s),r),!0)}),!1)&&this.ee.emit("change",this.state)}get(e){return this.state[e]}}class se{constructor(e){n(this,"state"),n(this,"get"),n(this,"set"),n(this,"clone"),this.state=new te(e),this.set=this.state.set.bind(this.state),this.get=this.state.get.bind(this.state),this.clone=this.state.clone.bind(this.state)}}function re(e,t){return s=>W(t[s],e)}class ne extends se{constructor(e,t,s){super(e),n(this,"supports"),this.supports=re(t,s)}}class ie extends ne{constructor(e,t,s){super({isVisible:e},t,{show:"web_app_setup_back_button",hide:"web_app_setup_back_button"}),n(this,"on",((e,t)=>"click"===e?D("back_button_pressed",t):this.state.on(e,t))),n(this,"off",((e,t)=>"click"===e?B("back_button_pressed",t):this.state.off(e,t))),this.postEvent=s}set isVisible(e){this.set("isVisible",e),this.postEvent("web_app_setup_back_button",{is_visible:e})}get isVisible(){return this.get("isVisible")}hide(){this.isVisible=!1}show(){this.isVisible=!0}}const oe=y((e=>e instanceof Date?e:new Date(1e3*S().parse(e))),"Date");function ae(e,t){return new v((t=>{if("string"!=typeof t&&!(t instanceof URLSearchParams))throw w();const s="string"==typeof t?new URLSearchParams(t):t;return x(e,(e=>{const t=s.get(e);return null===t?void 0:t}))}),!1,t)}const ce=k({id:S(),type:P(),title:P(),photoUrl:{type:P().optional(),from:"photo_url"},username:P().optional()},"Chat").optional(),pe=k({addedToAttachmentMenu:{type:E().optional(),from:"added_to_attachment_menu"},allowsWriteToPm:{type:E().optional(),from:"allows_write_to_pm"},firstName:{type:P(),from:"first_name"},id:S(),isBot:{type:E().optional(),from:"is_bot"},isPremium:{type:E().optional(),from:"is_premium"},languageCode:{type:P().optional(),from:"language_code"},lastName:{type:P().optional(),from:"last_name"},photoUrl:{type:P().optional(),from:"photo_url"},username:P().optional()},"User").optional();function le(){return ae({authDate:{type:oe(),from:"auth_date"},canSendAfter:{type:S().optional(),from:"can_send_after"},chat:ce,chatInstance:{type:P().optional(),from:"chat_instance"},chatType:{type:P().optional(),from:"chat_type"},hash:P(),queryId:{type:P().optional(),from:"query_id"},receiver:pe,startParam:{type:P().optional(),from:"start_param"},user:pe},"InitData")}const he=y((e=>X(P().parse(e))),"rgb");function ue(e){return e.replace(/[A-Z]/g,(e=>"_".concat(e.toLowerCase())))}const de=y((e=>{const t=he().optional();return Object.entries(C(e)).reduce(((e,s)=>{let[r,n]=s;return e[function(e){return e.replace(/_[a-z]/g,(e=>e[1].toUpperCase()))}(r)]=t.parse(n),e}),{})}),"ThemeParams");function _e(e){return ae({botInline:{type:E().optional(),from:"tgWebAppBotInline"},initData:{type:le().optional(),from:"tgWebAppData"},initDataRaw:{type:P().optional(),from:"tgWebAppData"},platform:{type:P(),from:"tgWebAppPlatform"},showSettings:{type:E().optional(),from:"tgWebAppShowSettings"},startParam:{type:P().optional(),from:"tgWebAppStartParam"},themeParams:{type:de(),from:"tgWebAppThemeParams"},version:{type:P(),from:"tgWebAppVersion"}}).parse(e)}function ge(e){return _e(e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&"))}function be(){return ge(window.location.href)}function me(){return performance.getEntriesByType("navigation")[0]}function fe(){const e=me();if(!e)throw new Error("Unable to get first navigation entry.");return ge(e.name)}function we(e){return"telegram-apps/".concat(e.replace(/[A-Z]/g,(e=>"-".concat(e.toLowerCase()))))}function ve(e,t){sessionStorage.setItem(we(e),JSON.stringify(t))}function ye(e){const t=sessionStorage.getItem(we(e));try{return t?JSON.parse(t):void 0}catch{}}function Ee(){return _e(ye("launchParams")||"")}function xe(e){return JSON.stringify(Object.fromEntries(Object.entries(e).map((e=>{let[t,s]=e;return[ue(t),s]}))))}function Ce(e){ve("launchParams",function(e){const{initDataRaw:t,themeParams:s,platform:r,version:n,showSettings:i,startParam:o,botInline:a}=e,c=new URLSearchParams;return c.set("tgWebAppPlatform",r),c.set("tgWebAppThemeParams",xe(s)),c.set("tgWebAppVersion",n),t&&c.set("tgWebAppData",t),o&&c.set("tgWebAppStartParam",o),"boolean"==typeof i&&c.set("tgWebAppShowSettings",i?"1":"0"),"boolean"==typeof a&&c.set("tgWebAppBotInline",a?"1":"0"),c.toString()}(e))}function ke(){const e=me();return!(!e||"reload"!==e.type)}const[Se]=i((function(){let e=0;return()=>(e+=1).toString()}));function Pe(e,t){return()=>{const s=function(){const e=[];for(const t of[be,fe,Ee])try{const e=t();return Ce(e),e}catch(s){e.push(s instanceof Error?s.message:JSON.stringify(s))}throw new Error(["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?\n","\ud83d\udcd6 Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-sdk/environment\n","Collected errors:",e.map((e=>"\u2014 ".concat(e)))].join("\n"))}(),r={...s,postEvent:Z(s.version),createRequestId:Se()};if("function"==typeof e)return e(r);const[n,i,o]=l(),a=t({...r,state:ke()?ye(e):void 0,addCleanup:n}),c=t=>(o||n(t.on("change",(t=>{ve(e,t)}))),t);return[a instanceof Promise?a.then(c):c(a),i]}}Pe("backButton",(e=>{let{postEvent:t,version:s,state:r={isVisible:!1}}=e;return new ie(r.isVisible,s,t)}));class Ae extends ne{constructor(){super(...arguments),n(this,"on",this.state.on.bind(this.state)),n(this,"off",this.state.off.bind(this.state))}}function qe(e){const t=e.available?e:{available:!1,device_id:"",token_saved:!1,access_requested:!1,access_granted:!1,type:""};return{available:!0,type:t.type,deviceId:t.device_id,tokenSaved:t.token_saved,accessRequested:t.access_requested,accessGranted:t.access_granted}}class Ne extends Ae{constructor(e){let{postEvent:t,version:s,...r}=e;super(r,s,{auth:"web_app_biometry_request_auth",openSettings:"web_app_biometry_open_settings",requestAccess:"web_app_biometry_request_access",updateToken:"web_app_biometry_update_token"}),n(this,"postEvent"),n(this,"authPromise"),n(this,"accessPromise"),this.postEvent=t}get available(){return this.get("available")}get accessGranted(){return this.get("accessGranted")}get accessRequested(){return this.get("accessRequested")}async authenticate(e){let{reason:t,...s}=e;return this.authPromise||(this.authPromise=K({...s,method:"web_app_biometry_request_auth",event:"biometry_auth_requested",postEvent:this.postEvent,params:{reason:(t||"").trim()}}).then((e=>{let{token:t}=e;return t})).finally((()=>this.authPromise=void 0))),this.authPromise}get deviceId(){return this.get("deviceId")}openSettings(){this.postEvent("web_app_biometry_open_settings")}requestAccess(){let{reason:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.accessPromise||(this.accessPromise=K({...t,postEvent:this.postEvent,method:"web_app_biometry_request_access",event:"biometry_info_received",params:{reason:e||""}}).then((e=>{const t=qe(e);return this.set(t),t.accessGranted})).finally((()=>this.accessPromise=void 0))),this.accessPromise}get biometryType(){return this.get("biometryType")}get tokenSaved(){return this.get("tokenSaved")}async updateToken(){let{token:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return["removed","updated"].includes((await K({...t,postEvent:this.postEvent,method:"web_app_biometry_update_token",event:"biometry_token_updated",params:{token:e||""}})).status)}}async function Ie(e){return qe(await K({...e||{},method:"web_app_biometry_get_info",event:"biometry_info_received"}))}Pe("biometryManager",(async e=>{let{postEvent:t,version:s,state:r}=e;return new Ne({...r||W("web_app_biometry_get_info",s)?r||await Ie({timeout:1e3}):{available:!1,accessGranted:!1,accessRequested:!1,tokenSaved:!1,deviceId:""},version:s,postEvent:t})}));class Te extends se{constructor(){super(...arguments),n(this,"on",this.state.on.bind(this.state)),n(this,"off",this.state.off.bind(this.state))}}class Re extends Te{constructor(e,t){super({isConfirmationNeeded:e}),this.postEvent=t}set isConfirmationNeeded(e){this.set("isConfirmationNeeded",e),this.postEvent("web_app_setup_closing_behavior",{need_confirmation:e})}get isConfirmationNeeded(){return this.get("isConfirmationNeeded")}disableConfirmation(){this.isConfirmationNeeded=!1}enableConfirmation(){this.isConfirmationNeeded=!0}}Pe("closingBehavior",(e=>{let{postEvent:t,state:s={isConfirmationNeeded:!1}}=e;return new Re(s.isConfirmationNeeded,t)}));class Ve{constructor(e,t){n(this,"supports"),this.supports=re(e,t)}}function Oe(e){if(Array.isArray(e))return e;if("string"==typeof e)try{const t=JSON.parse(e);if(Array.isArray(t))return t}catch{}throw w()}class Be extends v{constructor(e,t,s){super(Oe,t,s),n(this,"itemParser"),this.itemParser="function"==typeof e?e:e.parse.bind(e)}parse(e){const t=super.parse(e);return void 0===t?t:t.map(this.itemParser)}of(e){return this.itemParser="function"==typeof e?e:e.parse.bind(e),this}}function De(e,t){return Object.fromEntries(e.map((e=>[e,t])))}class Le extends Ve{constructor(e,t,s){super(e,{delete:"web_app_invoke_custom_method",get:"web_app_invoke_custom_method",getKeys:"web_app_invoke_custom_method",set:"web_app_invoke_custom_method"}),this.createRequestId=t,this.postEvent=s}async delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=Array.isArray(e)?e:[e];s.length&&await Q("deleteStorageValues",{keys:s},this.createRequestId(),{...t,postEvent:this.postEvent})}async getKeys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Be((e=>e),!1,t).of(P()).parse(await Q("getStorageKeys",{},this.createRequestId(),{...e,postEvent:this.postEvent}));var t}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=Array.isArray(e)?e:[e];if(!s.length)return De(s,"");const r=await Q("getStorageValues",{keys:s},this.createRequestId(),{...t,postEvent:this.postEvent}),n=k(De(s,P()),"CloudStorageData").parse(r);return Array.isArray(e)?n:n[e]}async set(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};await Q("saveStorageValue",{key:e,value:t},this.createRequestId(),{...s,postEvent:this.postEvent})}}Pe((e=>{let{createRequestId:t,postEvent:s,version:r}=e;return new Le(r,t,s)}));class je extends Ve{constructor(e,t){super(e,{impactOccurred:"web_app_trigger_haptic_feedback",notificationOccurred:"web_app_trigger_haptic_feedback",selectionChanged:"web_app_trigger_haptic_feedback"}),this.postEvent=t}impactOccurred(e){this.postEvent("web_app_trigger_haptic_feedback",{type:"impact",impact_style:e})}notificationOccurred(e){this.postEvent("web_app_trigger_haptic_feedback",{type:"notification",notification_type:e})}selectionChanged(){this.postEvent("web_app_trigger_haptic_feedback",{type:"selection_change"})}}Pe((e=>{let{version:t,postEvent:s}=e;return new je(t,s)}));class We{constructor(e){this.initData=e}get authDate(){return this.initData.authDate}get canSendAfter(){return this.initData.canSendAfter}get canSendAfterDate(){const{canSendAfter:e}=this;return e?new Date(this.authDate.getTime()+1e3*e):void 0}get chat(){return this.initData.chat}get chatType(){return this.initData.chatType}get chatInstance(){return this.initData.chatInstance}get hash(){return this.initData.hash}get queryId(){return this.initData.queryId}get receiver(){return this.initData.receiver}get startParam(){return this.initData.startParam}get user(){return this.initData.user}}Pe((e=>{let{initData:t}=e;return t?new We(t):void 0}));class Me extends Ae{constructor(e,t,s){super({isOpened:e},t,{open:"web_app_open_invoice"}),this.postEvent=s}set isOpened(e){this.set("isOpened",e)}get isOpened(){return this.get("isOpened")}async open(e,t){if(this.isOpened)throw new Error("Invoice is already opened");let s;if(t){const{hostname:t,pathname:r}=new URL(e,window.location.href);if("t.me"!==t)throw new Error("Incorrect hostname: ".concat(t));const n=r.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!n)throw new Error('Link pathname has incorrect format. Expected to receive "/invoice/{slug}" or "/${slug}"');[,,s]=n}else s=e;this.isOpened=!0;try{return(await K({method:"web_app_open_invoice",event:"invoice_closed",params:{slug:s},postEvent:this.postEvent,capture:e=>s===e.slug})).status}finally{this.isOpened=!1}}}Pe((e=>{let{version:t,postEvent:s}=e;return new Me(!1,t,s)}));class He extends se{constructor(e){let{postEvent:t,...s}=e;super(s),n(this,"postEvent"),n(this,"on",((e,t)=>"click"===e?D("main_button_pressed",t):this.state.on(e,t))),n(this,"off",((e,t)=>"click"===e?B("main_button_pressed",t):this.state.off(e,t))),this.postEvent=t}get bgColor(){return this.get("bgColor")}commit(){""!==this.text&&this.postEvent("web_app_setup_main_button",{is_visible:this.isVisible,is_active:this.isEnabled,is_progress_visible:this.isLoaderVisible,text:this.text,color:this.bgColor,text_color:this.textColor})}disable(){return this.isEnabled=!1,this}enable(){return this.isEnabled=!0,this}hide(){return this.isVisible=!1,this}hideLoader(){return this.isLoaderVisible=!1,this}set isEnabled(e){this.setParams({isEnabled:e})}get isEnabled(){return this.get("isEnabled")}set isLoaderVisible(e){this.setParams({isLoaderVisible:e})}get isLoaderVisible(){return this.get("isLoaderVisible")}set isVisible(e){this.setParams({isVisible:e})}get isVisible(){return this.get("isVisible")}show(){return this.isVisible=!0,this}showLoader(){return this.isLoaderVisible=!0,this}setText(e){return this.setParams({text:e})}setTextColor(e){return this.setParams({textColor:e})}setBgColor(e){return this.setParams({bgColor:e})}setParams(e){return this.set(e),this.commit(),this}get text(){return this.get("text")}get textColor(){return this.get("textColor")}}Pe("mainButton",(e=>{let{postEvent:t,themeParams:s,state:r={isVisible:!1,isEnabled:!1,text:"",isLoaderVisible:!1,textColor:s.buttonTextColor||"#ffffff",bgColor:s.buttonColor||"#000000"}}=e;return new He({...r,postEvent:t})}));function Ue(e,t){return s=>{const[r,n]=t[s];return W(r,n,e)}}function Ge(e){return new Promise((t=>{setTimeout(t,e)}))}class ze extends Ae{constructor(e){let{postEvent:t,createRequestId:s,version:r,botInline:i,...o}=e;super(o,r,{requestPhoneAccess:"web_app_request_phone",requestWriteAccess:"web_app_request_write_access",switchInlineQuery:"web_app_switch_inline_query",setHeaderColor:"web_app_set_header_color",setBackgroundColor:"web_app_set_background_color"}),n(this,"botInline"),n(this,"postEvent"),n(this,"createRequestId"),n(this,"requestPhoneAccessPromise"),n(this,"requestWriteAccessPromise"),n(this,"supportsParam"),this.createRequestId=s,this.postEvent=t,this.botInline=i;const a=this.supports.bind(this);this.supports=e=>!!a(e)&&("switchInlineQuery"!==e||i),this.supportsParam=Ue(r,{"setHeaderColor.color":["web_app_set_header_color","color"],"close.returnBack":["web_app_close","return_back"]})}async getRequestedContact(){let{timeout:e=1e4}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ae({contact:k({userId:{type:S(),from:"user_id"},phoneNumber:{type:P(),from:"phone_number"},firstName:{type:P(),from:"first_name"},lastName:{type:P().optional(),from:"last_name"}}),authDate:{type:oe(),from:"auth_date"},hash:P()},"RequestedContact").parse(await Q("getRequestedContact",{},this.createRequestId(),{postEvent:this.postEvent,timeout:e}))}get bgColor(){return this.get("bgColor")}close(e){this.postEvent("web_app_close",this.supportsParam("close.returnBack")?{return_back:e}:{})}get headerColor(){return this.get("headerColor")}get isBotInline(){return this.botInline}get isDark(){return ee(this.bgColor)}ready(){this.postEvent("web_app_ready")}async requestContact(){let{timeout:e=5e3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return await this.getRequestedContact()}catch{}if("sent"!==await this.requestPhoneAccess())throw new Error("Access denied.");const t=Date.now()+e;let s=50;return $((async()=>{for(;Date.now()<t;){try{return await this.getRequestedContact()}catch{}await Ge(s),s+=50}throw F(e)}),e)}async requestPhoneAccess(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.requestPhoneAccessPromise||(this.requestPhoneAccessPromise=K({...e,method:"web_app_request_phone",event:"phone_requested",postEvent:this.postEvent}).then((e=>{let{status:t}=e;return t})).finally((()=>this.requestPhoneAccessPromise=void 0))),this.requestPhoneAccessPromise}async requestWriteAccess(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.requestWriteAccessPromise||(this.requestWriteAccessPromise=K({...e,method:"web_app_request_write_access",event:"write_access_requested",postEvent:this.postEvent}).then((e=>{let{status:t}=e;return t})).finally((()=>this.requestWriteAccessPromise=void 0))),this.requestWriteAccessPromise}sendData(e){const{size:t}=new Blob([e]);if(!t||t>4096)throw new Error("Passed data has incorrect size: ".concat(t));this.postEvent("web_app_data_send",{data:e})}setHeaderColor(e){this.postEvent("web_app_set_header_color",Y(e)?{color:e}:{color_key:e}),this.set("headerColor",e)}setBgColor(e){this.postEvent("web_app_set_background_color",{color:e}),this.set("bgColor",e)}switchInlineQuery(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!this.supports("switchInlineQuery")&&!this.isBotInline)throw new Error("Method is unsupported because Mini App should be launched in inline mode.");this.postEvent("web_app_switch_inline_query",{query:e,chat_types:t})}}Pe("miniApp",(e=>{let{themeParams:t,botInline:s=!1,state:r={bgColor:t.bgColor||"#ffffff",headerColor:t.headerBgColor||"#000000"},...n}=e;return new ze({...n,...r,botInline:s})}));function Ze(e){const t=e.message.trim(),s=(e.title||"").trim(),r=e.buttons||[];let n;if(s.length>64)throw new Error("Title has incorrect size: ".concat(s.length));if(!t.length||t.length>256)throw new Error("Message has incorrect size: ".concat(t.length));if(r.length>3)throw new Error("Buttons have incorrect size: ".concat(r.length));return n=r.length?r.map((e=>{const{id:t=""}=e;if(t.length>64)throw new Error("Button ID has incorrect size: ".concat(t));if(!e.type||"default"===e.type||"destructive"===e.type){const s=e.text.trim();if(!s.length||s.length>64){const t=e.type||"default";throw new Error('Button text with type "'.concat(t,'" has incorrect size: ').concat(e.text.length))}return{...e,text:s,id:t}}return{...e,id:t}})):[{type:"close",id:""}],{title:s,message:t,buttons:n}}class Je extends Ae{constructor(e,t,s){super({isOpened:e},t,{open:"web_app_open_popup"}),this.postEvent=s}set isOpened(e){this.set("isOpened",e)}get isOpened(){return this.get("isOpened")}async open(e){if(this.isOpened)throw new Error("Popup is already opened.");this.isOpened=!0;try{const{button_id:t=null}=await K({event:"popup_closed",method:"web_app_open_popup",postEvent:this.postEvent,params:Ze(e)});return t}finally{this.isOpened=!1}}}Pe((e=>{let{postEvent:t,version:s}=e;return new Je(!1,s,t)}));class Fe extends Ae{constructor(e,t,s){super({isOpened:e},t,{close:"web_app_close_scan_qr_popup",open:"web_app_open_scan_qr_popup"}),this.postEvent=s}close(){this.postEvent("web_app_close_scan_qr_popup"),this.isOpened=!1}set isOpened(e){this.set("isOpened",e)}get isOpened(){return this.get("isOpened")}async open(e){if(this.isOpened)throw new Error("The scanner is already opened");const{text:t,capture:s}=("string"==typeof e?{text:e}:e)||{};this.isOpened=!0;try{const e=(await K({method:"web_app_open_scan_qr_popup",event:["qr_text_received","scan_qr_popup_closed"],postEvent:this.postEvent,params:{text:t},capture:e=>"scan_qr_popup_closed"===e.event||!s||s(e.payload)})||{}).data||null;return e&&this.close(),e}finally{this.isOpened=!1}}}Pe((e=>{let{version:t,postEvent:s}=e;return new Fe(!1,t,s)}));class $e extends ne{constructor(e,t,s){super({isVisible:e},t,{show:"web_app_setup_settings_button",hide:"web_app_setup_settings_button"}),n(this,"on",((e,t)=>"click"===e?D("settings_button_pressed",t):this.state.on(e,t))),n(this,"off",((e,t)=>"click"===e?B("settings_button_pressed",t):this.state.off(e,t))),this.postEvent=s}set isVisible(e){this.set("isVisible",e),this.postEvent("web_app_setup_settings_button",{is_visible:e})}get isVisible(){return this.get("isVisible")}hide(){this.isVisible=!1}show(){this.isVisible=!0}}Pe("settingsButton",(e=>{let{version:t,postEvent:s,state:r={isVisible:!1}}=e;return new $e(r.isVisible,t,s)}));class Ke extends Ae{constructor(e,t,s){super({isVerticalSwipeEnabled:e},t,{disableVerticalSwipe:"web_app_setup_swipe_behavior",enableVerticalSwipe:"web_app_setup_swipe_behavior"}),this.postEvent=s}set isVerticalSwipeEnabled(e){this.set("isVerticalSwipeEnabled",e),this.postEvent("web_app_setup_swipe_behavior",{allow_vertical_swipe:e})}get isVerticalSwipeEnabled(){return this.get("isVerticalSwipeEnabled")}disableVerticalSwipe(){this.isVerticalSwipeEnabled=!1}enableVerticalSwipe(){this.isVerticalSwipeEnabled=!0}}Pe("swipeBehavior",(e=>{let{postEvent:t,state:s={isVerticalSwipeEnabled:!0},version:r}=e;return new Ke(s.isVerticalSwipeEnabled,r,t)}));function Qe(e){return de().parse(e)}class Ye extends Te{get accentTextColor(){return this.get("accentTextColor")}get bgColor(){return this.get("bgColor")}get buttonColor(){return this.get("buttonColor")}get buttonTextColor(){return this.get("buttonTextColor")}get destructiveTextColor(){return this.get("destructiveTextColor")}getState(){return this.clone()}get headerBgColor(){return this.get("headerBgColor")}get hintColor(){return this.get("hintColor")}get isDark(){return!this.bgColor||ee(this.bgColor)}get linkColor(){return this.get("linkColor")}get secondaryBgColor(){return this.get("secondaryBgColor")}get sectionBgColor(){return this.get("sectionBgColor")}get sectionHeaderTextColor(){return this.get("sectionHeaderTextColor")}get sectionSeparatorColor(){return this.get("sectionHeaderTextColor")}listen(){return D("theme_changed",(e=>{this.set(Qe(e.theme_params))}))}get subtitleTextColor(){return this.get("subtitleTextColor")}get textColor(){return this.get("textColor")}}Pe("themeParams",(e=>{let{themeParams:t,state:s=t,addCleanup:r}=e;const n=new Ye(s);return r(n.listen()),n}));function Xe(e,t){return e.startsWith(t)?e:"".concat(t).concat(e)}function et(e){return new URL("string"==typeof e?e:"".concat(e.pathname||"").concat(Xe(e.search||"","?")).concat(Xe(e.hash||"","#")),"http://a")}class tt extends Ve{constructor(e,t,s){super(e,{readTextFromClipboard:"web_app_read_text_from_clipboard"}),n(this,"supportsParam"),this.version=e,this.createRequestId=t,this.postEvent=s,this.supportsParam=Ue(e,{"openLink.tryInstantView":["web_app_open_link","try_instant_view"]})}openLink(e,t){const s=et(e).toString();if(!W("web_app_open_link",this.version))return void window.open(s,"_blank");const r="boolean"==typeof t?{tryInstantView:t}:t||{};this.postEvent("web_app_open_link",{url:s,try_browser:r.tryBrowser,try_instant_view:r.tryInstantView})}openTelegramLink(e){const{hostname:t,pathname:s,search:r}=new URL(e,"https://t.me");if("t.me"!==t)throw new Error("URL has not allowed hostname: ".concat(t,'. Only "t.me" is allowed'));W("web_app_open_tg_link",this.version)?this.postEvent("web_app_open_tg_link",{path_full:s+r}):window.location.href=e}async readTextFromClipboard(){const e=this.createRequestId(),{data:t=null}=await K({method:"web_app_read_text_from_clipboard",event:"clipboard_text_received",postEvent:this.postEvent,params:{req_id:e},capture:J(e)});return t}shareURL(e,t){this.openTelegramLink("https://t.me/share/url?"+new URLSearchParams({url:e,text:t||""}).toString().replace(/\+/g,"%20"))}}const st=Pe((e=>{let{version:t,postEvent:s,createRequestId:r}=e;return new tt(t,r,s)}));async function rt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{is_expanded:t,is_state_stable:s,...r}=await K({...e,method:"web_app_request_viewport",event:"viewport_changed"});return{...r,isExpanded:t,isStateStable:s}}function nt(e){return e<0?0:e}class it extends Te{constructor(e){let{postEvent:t,stableHeight:s,height:r,width:i,isExpanded:o}=e;super({height:nt(r),isExpanded:o,stableHeight:nt(s),width:nt(i)}),n(this,"postEvent"),this.postEvent=t}async sync(e){const{isStateStable:t,...s}=await rt(e);this.set({...s,stableHeight:t?s.height:this.get("stableHeight")})}get height(){return this.get("height")}get stableHeight(){return this.get("stableHeight")}listen(){return D("viewport_changed",(e=>{const{height:t,width:s,is_expanded:r,is_state_stable:n}=e,i=nt(t);this.set({height:i,isExpanded:r,width:nt(s),...n?{stableHeight:i}:{}})}))}get isExpanded(){return this.get("isExpanded")}get width(){return this.get("width")}expand(){this.postEvent("web_app_expand"),this.set("isExpanded",!0)}get isStable(){return this.stableHeight===this.height}}Pe("viewport",(async e=>{let{state:t,platform:s,postEvent:r,addCleanup:n}=e,i=!1,o=0,a=0,c=0;if(t)i=t.isExpanded,o=t.height,a=t.width,c=t.stableHeight;else if(["macos","tdesktop","unigram","webk","weba","web"].includes(s))i=!0,o=window.innerHeight,a=window.innerWidth,c=window.innerHeight;else{const e=await rt({timeout:1e3,postEvent:r});i=e.isExpanded,o=e.height,a=e.width,c=e.isStateStable?o:0}const p=new it({postEvent:r,height:o,width:a,stableHeight:c,isExpanded:i});return n(p.listen()),p}))},21642:(e,t,s)=>{s.d(t,{aBs:()=>n});var r=s(35192);function n(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 6a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1Zm1.5 4.5h4v-4h-4Zm8.25-5a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5h-7.5Zm0 6a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5h-7.5Zm0 6a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5h-7.5Zm-2.97-2.53a.75.75 0 0 1 0 1.06l-3.5 3.5a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 1 1 1.06-1.06l1.47 1.47 2.97-2.97a.75.75 0 0 1 1.06 0Z"},child:[]}]})(e)}},42935:(e,t,s)=>{s.d(t,{rYN:()=>n});var r=s(35192);function n(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 14.252V22H4C4 17.5817 7.58172 14 12 14C12.6906 14 13.3608 14.0875 14 14.252ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM18 17V14H20V17H23V19H20V22H18V19H15V17H18Z"},child:[]}]})(e)}},47738:(e,t,s)=>{s.d(t,{Kw5:()=>i,ykL:()=>n});var r=s(35192);function n(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M5 22v-5l-1 -1v-4a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4l-1 1v5"},child:[]},{tag:"path",attr:{d:"M17 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M15 22v-4h-2l2 -6a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1l2 6h-2v4"},child:[]}]})(e)}function i(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"},child:[]},{tag:"path",attr:{d:"M6 21v-2a4 4 0 0 1 4 -4h4"},child:[]},{tag:"path",attr:{d:"M15 19l2 2l4 -4"},child:[]}]})(e)}}}]);